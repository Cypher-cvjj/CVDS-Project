<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.eci.cvds.persistence.mappers.UserMapper">
    <resultMap type='user' id='UserResult'>
        <id property='documento' column='documento'/>
        <result property='nombre' column='nombre'/>
        <result property='contrasena' column='contrasena'/>
        <result property='correo' column='correo'/>
        <result property='telefono' column='telefono'/>
        <association property="tipousuario" javaType="TipoUser" resultMap="edu.eci.cvds.persistence.mappers.TipoUserMapper.tipoUserResult" columnPrefix="us_"/>
    </resultMap>
    <select id = "consultarUsuarios" resultMap="UserResult">
        select
        u.documento,
        u.nombre,
        u.contrasena,
        u.correo,
        u.telefono,
        tu.id
        FROM
        usuarios as u
        JOIN tipousuario as tu ON(tu.id = u.tipousuario)
    </select>
</mapper>